<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <title>自我簡介</title>
        <style>
            body {
                background-color: rgba(138, 138, 138, 0.1);
                display: flex;
                flex-direction: column;
                align-items: center;
            }
            .block {
                border: 2px solid;
                border-color: rgba(138, 138, 138, 0.5);
                margin-top: 20px;
                flex: none;
                width: 95%;
            }
            .block:hover {
                border-color: rgba(138, 138, 138, 1);
                box-shadow: 1px 1px 5px rgba(138, 138, 138, 0.9);
            }
            .header {
                background-color: rgba(138, 138, 138, 0.25);
                font-size: 22px;
                padding: 5px;
                padding-left: 10px;
            }
            .header:hover {
                cursor: pointer;
            }
            .content {
                background-color: white;
                font-size: 16px;
                padding-top: 8px;
                padding-bottom: 15px;
                padding-left: 25px;
            }
        </style>
    </head>
    <body>
        <div class="block">
            <div class="header" onclick="headerOnClick(this)">
                個人簡介</div>
            <div class="content">1</div>
        </div>
        <div class="block">
            <div class="header" onclick="headerOnClick(this)">
                為什麼想成為工程師？</div>
            <div class="content">2</div>
        </div>
        <div class="block">
            <div class="header" onclick="headerOnClick(this)">
                為了成為工程師，曾經做過什麼努力？</div>
            <div class="content">3</div>
        </div>
        <div class="block">
            <div class="header" onclick="headerOnClick(this)">
                對於工程師的職業想像是什麼？</div>
            <div class="content">4</div>
        </div>
        <div class="block">
            <div class="header" onclick="headerOnClick(this)">
                如果參與這個計畫，會怎麼安排學習時間？</div>
            <div class="content">5</div>
        </div>
        <div class="block">
            <div class="header" onclick="headerOnClick(this)">
                如果參與這個計畫，預期會碰到什麼困難？你打算怎麼解決它？</div>
            <div class="content">6</div>
        </div>
        <div class="block">
            <div class="header" onclick="headerOnClick(this)">
                想要對我們說的事情？</div>
            <div class="content">8</div>
        </div>
        <script>
            let text = 
                '{ "employees" : [' +
                '{ "firstName":"John" , "lastName":"Doe" },' +
                '{ "firstName":"Anna" , "lastName":"Smith" },' +
                '{ "firstName":"Peter" , "lastName":"Jones" } ]}';
            
            const obj = JSON.parse(text);
            // console.log(obj.employees);

            var headerX = document.querySelector('.header');
            var requestURL = 'https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json';
            const request = new XMLHttpRequest();
            request.open("GET", "/introductionMyself.json");
            // request.open("GET", requestURL);
            request.responseType = 'json';
            console.log(request.readyState);
            request.send();
            console.log(request.readyState);
            request.onload = function() {
                console.log(request.readyState);
                console.log(this.responseText);
                console.log(request.readyState);
                const myObj = JSON.parse(this.responseText);
                let header = document.querySelectorAll(".header");
                let content = document.querySelectorAll(".content");
                // for(let i = 0; i < myObj.intro){

                // }
                console.log("XX");
                // console.log(myObj);
                // document.querySelector(".header").innerHTML = myObj.intro;
            };
            // request.onload = function() {
            //     var superHeroesText = request.response; // get the string from the response
            //     console.log(superHeroesText);
            //     var superHeroes = JSON.parse(superHeroesText); // convert it to an object

            //     populateHeader(superHeroes);
            //     // showHeroes(superHeroes);
            // }

            function populateHeader(jsonObj) {
                var myH1 = document.createElement('h1');
                myH1.textContent = jsonObj['squadName'];
                headerX.appendChild(myH1);

                var myPara = document.createElement('p');
                myPara.textContent = 'Hometown: ' + jsonObj['homeTown'] + ' // Formed: ' + jsonObj['formed'];
                headerX.appendChild(myPara);
            }

            function showHeroes(jsonObj) {
                var heroes = jsonObj['members'];

                for(i = 0; i < heroes.length; i++) {
                    var myArticle = document.createElement('article');
                    var myH2 = document.createElement('h2');
                    var myPara1 = document.createElement('p');
                    var myPara2 = document.createElement('p');
                    var myPara3 = document.createElement('p');
                    var myList = document.createElement('ul');

                    myH2.textContent = heroes[i].name;
                    myPara1.textContent = 'Secret identity: ' + heroes[i].secretIdentity;
                    myPara2.textContent = 'Age: ' + heroes[i].age;
                    myPara3.textContent = 'Superpowers:';

                    var superPowers = heroes[i].powers;
                    for(j = 0; j < superPowers.length; j++) {
                    var listItem = document.createElement('li');
                    listItem.textContent = superPowers[j];
                    myList.appendChild(listItem);
                    }

                    myArticle.appendChild(myH2);
                    myArticle.appendChild(myPara1);
                    myArticle.appendChild(myPara2);
                    myArticle.appendChild(myPara3);
                    myArticle.appendChild(myList);

                    section.appendChild(myArticle);
                }
            }

            function headerOnClick(header) {
                let content = header.nextElementSibling;
                if(content.style.display == "none"){
                    content.style.display = "block";
                } else {
                    content.style.display = "none";
                }

            }
        </Script>
    </body>
</html>